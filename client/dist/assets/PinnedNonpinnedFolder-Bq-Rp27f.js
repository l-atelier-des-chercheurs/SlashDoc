import{n as o}from"../build.js";const l={props:{field_name:String,label:String,content:{type:Array,default:()=>[]},path:String,folders:Array,can_edit:Boolean,direction:{default:"list",type:String},view_mode:{default:"list",type:String}},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{list_of_pins_metas(){return this.content.length===0?[]:this.content.filter(e=>this.folders.some(t=>this.getFilename(t.$path)===e))},pinned_folders(){return this.list_of_pins_metas.reduce((e,t)=>{const i=this.folders.find(n=>this.getFilename(n.$path)===t);return i&&e.push(i),e},[])},non_pinned_folders(){return this.folders.filter(e=>!this.list_of_pins_metas.includes(this.getFilename(e.$path)))}},methods:{async addSpaceToPins(e){let t=this.list_of_pins_metas.slice();t.push(this.getFilename(e)),this.updateList({pins_metas:t})},movePin(e,t){let i=this.list_of_pins_metas.slice();i.move(e,e+t),this.updateList({pins_metas:i})},positionInPinned(e){if(this.pinned_folders.length===1)return"alone";const t=this.pinned_folders.findIndex(i=>i.$path===e);return t===0?"first":t===this.pinned_folders.length-1?"last":"none"},removeFromPins(e){let t=this.list_of_pins_metas.slice();t=t.filter(i=>i!==this.getFilename(e)),this.updateList({pins_metas:t})},async updateList({pins_metas:e}){await this.$api.updateMeta({path:this.path,new_meta:{[this.field_name]:e}})}}};var r=function(){var t=this,i=t._self._c;return i("div",[t.pinned_folders.length>0||t.can_edit?i("div",{staticClass:"_pinned"},[i("div",{},[i("DLabel",{attrs:{str:t.label}}),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.pinned_folders.length===0&&t.can_edit?i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("click_to_pin"))+" ")]):i("transition-group",{staticClass:"_list _list_pinned",class:{"is--mobileView":t.$root.is_mobile_view,"is--grid":t.direction==="grid","is--tiny":t.view_mode==="tiny","is--medium":t.view_mode==="medium"},attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.pinned_folders,function(n,s){return i("div",{key:n.$path,staticClass:"_item"},[t._t("default",null,{item:n}),t.can_edit?i("div",{staticClass:"_pinSpace"},[i("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button",disabled:["alone","first"].includes(t.positionInPinned(n.$path))},on:{click:function(a){return t.movePin(s,-1)}}},[i("b-icon",{attrs:{icon:"arrow-left-circle-fill",rotate:t.direction==="vertical"?"90":"","aria-label":t.$t("move_left")}})],1),i("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(a){return t.removeFromPins(n.$path)}}},[i("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("unpin")}})],1),i("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button",disabled:["alone","last"].includes(t.positionInPinned(n.$path))},on:{click:function(a){return t.movePin(s,1)}}},[i("b-icon",{attrs:{icon:"arrow-right-circle-fill",rotate:t.direction==="vertical"?"90":"","aria-label":t.$t("move_right")}})],1)]):i("div",{staticClass:"_pinSpace _pinSpace_indicator"},[i("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("pinned")}})],1)],2)}),0)],1)],1)]):t._e(),i("transition-group",{staticClass:"_nonpinned _list",class:{"is--mobileView":t.$root.is_mobile_view,"is--grid":t.direction==="grid","is--tiny":t.view_mode==="tiny","is--medium":t.view_mode==="medium"},attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.non_pinned_folders,function(n){return i("div",{key:n.$path,staticClass:"_item"},[t._t("default",null,{item:n}),t.can_edit?i("div",{staticClass:"_pinSpace"},[i("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(s){return t.addSpaceToPins(n.$path)}}},[i("b-icon",{attrs:{icon:"pin","aria-label":t.$t("pin")}})],1)]):t._e()],2)}),0)],1)},c=[],_=o(l,r,c,!1,null,"c2df3e42");const p=_.exports;export{p as P};
